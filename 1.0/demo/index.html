<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>demo标题</title>
    <script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy-min.js" charset="utf-8"></script>
</head>
<body>
<h2>demo标题</h2>
<div class="prop">
    <h2>设置属性</h2>
    <label>title: <input type="text" value="" id="title"/></label>
    <label>body: <input type="text" value="" id="body"/></label>
    <label>dir: <input type="text" value="" id="dir"/></label>
    <label>tag: <input type="text" value="" id="tag"/></label>
    <label>是否自动运行:<input type="checkbox" id="run"/></label>
</div>

<script>
    var S = KISSY;
    if (S.Config.debug) {
        var srcPath = "../../../";
        S.config({
            packages: [
                {
                    name: "gallery",
                    path: srcPath,
                    charset: "utf-8",
                    ignorePackageNameInUri: true
                }
            ]
        });
    }

    function handler(ev) {
        alert(ev.type)
    }

    S.use('gallery/notification/1.0/index', function (S, Notification) {
        notify = new Notification(11, {
            body: 2323,
            icon: "http://0.gravatar.com/avatar/eba2d15b16971d6ea0800c8cc1801a1c?s=70"
        })
        notify.on('show', handler).on('close', handler).
                on('error', handler).on('click', handler)
        document.body.onclick =
                function () {
                    Notification.requestPermission(function (p) {
                        notify.show()
                    })
                }
    })
</script>
</body>
</html>